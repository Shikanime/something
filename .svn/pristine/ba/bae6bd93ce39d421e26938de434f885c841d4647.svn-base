#include <assert.h>
#include <stdio.h>
#include "./movement.h"
#include "./character.h"

void should_move(void (*test)(character_t *c));
void backward();
void forward();
void right();
void left();

void describe_movement()
{
	should_move(backward);
	should_move(forward);
	should_move(left);
	should_move(right);
}

void					should_move(void (*test)(character_t *c)) {
	character_t	*c = NULL;

	c = make_character((uint8_t *) "uuid", 0, 0, E_PLAYER);
	test(c);
	free_character(c);
}

void backward(character_t	*c) {
	character_move(c, E_BACKWARD);
	assert(c->coord[CHARACTER_X_AXIS] == -1 && c->coord[CHARACTER_Y_AXIS] == 0);
}

void forward(character_t	*c) {
	character_move(c, E_FORWARD);
	assert(c->coord[CHARACTER_X_AXIS] == 1 && c->coord[CHARACTER_Y_AXIS] == 0);
}

void right(character_t	*c) {
	character_move(c, E_RIGHT);
	assert(c->coord[CHARACTER_X_AXIS] == 0 && c->coord[CHARACTER_Y_AXIS] == 1);
}

void left(character_t	*c) {
	character_move(c, E_LEFT);
	assert(c->coord[CHARACTER_X_AXIS] == 0 && c->coord[CHARACTER_Y_AXIS] == -1);
}
